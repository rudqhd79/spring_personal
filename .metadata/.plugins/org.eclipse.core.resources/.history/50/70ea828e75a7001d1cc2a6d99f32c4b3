package com.busreservation.repository;

import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.querydsl.QuerydslPredicateExecutor;
import org.springframework.data.repository.query.Param;

import com.busreservation.entity.Path;
import com.busreservation.entity.Terminal;

public interface PathRepository extends JpaRepository<Path, Long>  {
	
	//터미널에서 출발, 도착 지점 select box에서 보여주는 쿼리
	@Query(value = "seelct terminal_name from terminal")
	
	//출발점, 도착점과 겹치는 경로 가져오기
	@Query(value="select * from Path as p1 join terminal as p2 on(p1.:path_start = p2.:terminal_name", nativeQuery=true)
	List<Path> findByPath(@Param("path_start") String path_start, @Param("terminal_name") String terminal_name);

}
